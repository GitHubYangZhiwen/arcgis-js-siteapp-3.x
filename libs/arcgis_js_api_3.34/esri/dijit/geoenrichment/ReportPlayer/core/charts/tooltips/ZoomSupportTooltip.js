// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.34/esri/copyright.txt for details.
//>>built
define("esri/dijit/geoenrichment/ReportPlayer/core/charts/tooltips/ZoomSupportTooltip","dojo/_base/declare dojox/charting/action2d/Tooltip dojox/lang/functional dojox/gfx/matrix esri/dijit/geoenrichment/utils/DeviceUtil esri/dijit/geoenrichment/utils/TooltipUtil".split(" "),function(k,l,c,m,n,p){var g=Math.PI/4,q=Math.PI/2,h={_tooltips:[],show:function(a,e,d,b){this.hide();if(a){a="string"===typeof a?{node:a}:a;var c=a.node,f=c?c.outerHTML||c.innerHTML||c:null;f&&"string"===typeof f&&((f=-1!==f.indexOf("href")||
-1!==f.indexOf("esriGELink"))||(b=(b||"")+" esriGENonInteractable"),this._tooltips.push(p.showTooltipForNode(d,c,{position:e,notRestricted:!0,stayOnHover:f,classes:b&&[b],style:a.style})))}},hide:function(){this._tooltips.forEach(function(a){a&&a.destroy()});this._tooltips.length=0}};return k(l,{tooltipClass:null,process:function(a){if("onplotreset"===a.type||"onmouseout"===a.type)"onplotreset"===a.type&&delete this.angles;else if(a.shape&&"onmouseover"===a.type){var e=["after-centered","before-centered"];
if(!this._needSetRectFromShape())switch(a.element){case "marker":case "circle":case "spider_circle":case "spider_plot":case "candlestick":break;case "column":e=["above-centered","below-centered","after-centered","before-centered"];case "bar":break;default:if(!this.angles){var d="number"===typeof a.run.data[0]?c.map(a.run.data,"x ? Math.max(x, 0) : 0"):c.map(a.run.data,"x ? Math.max(x.y, 0) : 0");this.angles=c.map(c.scanl(d,"+",0),"* 2 * Math.PI / this",c.foldl(d,"+",0))}var d=m._degToRad(a.plot.opt.startAngle),
b=(this.angles[a.index]+this.angles[a.index+1])/2+d;d&&(0>b||b>2*Math.PI)&&(b=Math.abs(2*Math.PI-Math.abs(b)));b<g||(b<q+g?e=["below-centered","above-centered"]:b<Math.PI+g?e=["before-centered","after-centered"]:b<2*Math.PI-g&&(e=["above-centered","below-centered"]))}n.isMobileDevice()&&(e=["above-centered","below-centered"]);(d=this.text(a,this.plot))&&h.show("string"===typeof d?this._format(d):d,e,a.shape.rawNode,this.tooltipClass)}},_needSetRectFromShape:function(){return!1},_hide:function(){h.hide()}})});