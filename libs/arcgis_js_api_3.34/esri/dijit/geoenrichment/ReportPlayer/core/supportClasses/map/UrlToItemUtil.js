// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.34/esri/copyright.txt for details.
//>>built
define("esri/dijit/geoenrichment/ReportPlayer/core/supportClasses/map/UrlToItemUtil",["dojo/i18n!esri/nls/jsapi"],function(g){g=g.geoenrichment.dijit.UrlToItemUtil;var e={},h=/\.(kml|kmz)$/i,k=/\.(csv)$/i;e.tryCreateItemFromServerUrl=function(b){function c(a){return b.substr(0,b.lastIndexOf(a)+a.length)}function e(a){return(a=b.match("(.*"+a+")(/?)(\\d*)(.*)","i"))?a[3]?a[1]+a[2]+a[3]:a[1]:null}function d(b){b=b.split("/");a.title=b[b.length-2]||g.featureLayer}if(!b)return null;var a;if(-1!==b.indexOf("FeatureServer")){var f=
c("FeatureServer");a={url:e("FeatureServer")||f,type:"Feature Service",typeKeywords:["Feature Service"]};d(f)}else-1!==b.indexOf("MapServer")?(f=c("MapServer"),a={url:e("MapServer")||f,type:"Map Service",typeKeywords:["Map Service"]},d(f)):-1!==b.indexOf("ImageServer")?(a={url:c("ImageServer"),type:"Image Service",typeKeywords:["Image Service"]},d(a.url)):-1!==b.indexOf("VectorTileServer")?(a={url:c("VectorTileServer"),type:"Vector Tile Service",typeKeywords:["Vector Tile Service"]},d(a.url)):-1!==
b.indexOf("WMSServer")?(a={url:c("WMSServer"),type:"WMS",typeKeywords:["WMS"]},d(a.url)):-1!==b.indexOf("wmts")?(a={url:c("wmts"),type:"WMTS",typeKeywords:["WMTS"]},d(a.url)):-1!==b.indexOf("wfs")?(a={url:c("wfs"),type:"WFS",typeKeywords:["WFS"]},d(a.url)):h.test(b)?a={url:b,type:"KML",typeKeywords:["KML"],title:b.substr(b.lastIndexOf("/")+1).replace(h,"")}:k.test(b)&&(a={url:b,type:"CSV",typeKeywords:["CSV"],title:b.substr(b.lastIndexOf("/")+1).replace(k,"")});a&&(a.id=a.url,a.name=a.title);return a};
return e});