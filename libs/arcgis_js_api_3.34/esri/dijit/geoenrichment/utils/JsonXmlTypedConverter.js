// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.34/esri/copyright.txt for details.
//>>built
define("esri/dijit/geoenrichment/utils/JsonXmlTypedConverter",["dojo/_base/declare","./RegExpUtil"],function(m,l){return m(null,{parseJson:function(d,f){function g(a,b){if("string"===typeof a)c+="\x3c"+b+' type\x3d"string"\x3e'+l.encodeXML(a,!1)+"\x3c/"+b+"\x3e";else if("number"===typeof a)c+="\x3c"+b+' type\x3d"number"\x3e'+a+"\x3c/"+b+"\x3e";else if("boolean"===typeof a)c+="\x3c"+b+' type\x3d"boolean"\x3e'+a+"\x3c/"+b+"\x3e";else if(Array.isArray(a))h(a,b);else if(a&&"object"===typeof a){c+="\x3c"+
b+' type\x3d"object"\x3e';for(var e in a)g(a[e],e);c+="\x3c/"+b+"\x3e"}}function h(a,b){c+="\x3c"+b+' type\x3d"array"\x3e';a.forEach(function(e){g(e,"item")});c+="\x3c/"+b+"\x3e"}var k=f&&f.rootName||"root",c="";f&&f.addDocumentOptions&&(c+='\x3c?xml version\x3d"1.0" encoding\x3d"utf-8"?\x3e');g(d,k);return c=decodeURIComponent(encodeURIComponent(c).replace("%19",""))},parseXml:function(d){function f(e){if(!e.attributes)return null;for(var a=0;a<e.attributes.length;a++){var b=e.attributes[a];if("type"===
b.name)return b.value}return null}function g(a,b){if(b.childNodes)for(var e=0,c=b.childNodes.length;e<c;e++){var d=b.childNodes[e],f=h(d);void 0!==f&&(a[d.nodeName]=f)}return a}function h(a){var b=f(a);if(a.nodeName&&b)switch(b){case "string":return a.childNodes[0]?l.decodeXML(a.childNodes[0].nodeValue):"";case "number":return Number(a.childNodes[0].nodeValue);case "boolean":return"true"===a.childNodes[0].nodeValue;case "object":return g({},a);case "array":return k([],a)}}function k(a,b){if(b.childNodes)for(var c=
0,d=b.childNodes.length;c<d;c++)a[c]=h(b.childNodes[c]);return a}var c,a;d=(new DOMParser).parseFromString(d,"text/xml").childNodes;for(var b=0;b<d.length;b++)if(1===d[b].nodeType){a=d[b];break}a&&(d=f(a),"object"===d?g(c={},a):"array"===d&&k(c=[],a));return c}})()});